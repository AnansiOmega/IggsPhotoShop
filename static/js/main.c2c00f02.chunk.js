(this.webpackJsonpiggsphotoshop=this.webpackJsonpiggsphotoshop||[]).push([[0],{213:function(e,t,n){},214:function(e,t,n){},344:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),o=n(32),s=n.n(o),i=(n(213),n(214),n(10)),u=n(19),l=n(20),h=n(189),j={showPhoto:function(e){return{type:"SHOW_PHOTO",payload:e}},addToCart:function(e){return{type:"ADD_PHOTO",payload:e}}},d=Object(l.b)((function(e){return{user:e.auth}}),j)((function(e){var t=e.photo,n=e.showPhoto,r=e.setOpen,o=e.addToCart,s=e.user,i=t.id,l=t.category,j=t.image,d=t.price,b=t.title,p=t.likes,O=Object(c.useState)([]),m=Object(u.a)(O,2),f=m[0],g=m[1],x=Object(c.useState)(!1),y=Object(u.a)(x,2),v=y[0],S=y[1],k=Object(c.useState)(0),T=Object(u.a)(k,2),C=T[0],N=T[1];Object(c.useEffect)((function(){if(0!==C){var e=p+C%2,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({like:e})};fetch("https://desolate-plateau-74310.herokuapp.com/likes/".concat(i),t)}}),[C]);var w="https://desolate-plateau-74310.herokuapp.com".concat(j),E="https://desolate-plateau-74310.herokuapp.com/image_file/".concat(i),_={boxShadow:"-6px -6px 50px ".concat(f[1])};return Object(a.jsxs)("div",{className:"image-card",children:[Object(a.jsx)("div",{className:"frame",style:v?_:{boxShadow:"-3px -3px 22px #fff"},children:Object(a.jsxs)("div",{onClick:function(){n(t),r(!0)},onMouseOver:function(){return S(!0)},onMouseOut:function(){return S(!1)},children:[v?Object(a.jsx)("h3",{children:b}):null,v?Object(a.jsx)("h3",{children:l}):null,Object(a.jsx)("img",{src:w,alt:l})]})}),Object(a.jsxs)("div",{className:"innards",children:[Object(a.jsx)("div",{children:Object(a.jsxs)("span",{children:["Price: $",d,".00"]})}),Object(a.jsx)("button",{className:"ui button circular",children:Object(a.jsx)("a",{style:{color:"black"},href:E,target:"_blank",rel:"noreferrer noopener",children:Object(a.jsx)("i",{className:"download icon"})})}),s.id?Object(a.jsxs)("button",{onClick:function(){return N(C+1)},className:"ui button circular black",children:[Object(a.jsx)("i",{className:"heart icon"}),p+C%2]}):null,Object(a.jsx)("button",{className:"ui button circular",onClick:function(){return o(t)},children:Object(a.jsx)("i",{style:{color:"black"},className:"cart plus icon"})})]}),Object(a.jsx)(h.a,{src:w,getColors:function(e){return g(e)}})]})})),b=n(193),p={fetchPhotosSuccess:function(e){return{type:"FETCH_PHOTOS_SUCCESS",payload:e}}},O=Object(l.b)((function(e){return{photos:e.photos,photo:e.photo}}),p)((function(e){var t=e.fetchPhotosSuccess,n=e.photos,r=e.photo,o=Object(c.useState)(!1),s=Object(u.a)(o,2),i=s[0],l=s[1];Object(c.useEffect)((function(){fetch("https://desolate-plateau-74310.herokuapp.com/photos").then((function(e){return e.json()})).then((function(e){return t(e)}))}),[]);var h=r.title,j=r.image,p="https://desolate-plateau-74310.herokuapp.com".concat(j);return Object(a.jsxs)(a.Fragment,{children:[i?Object(a.jsx)(b.a,{large:p,alt:h,onClose:function(){return l(!1)},hideDownload:!0}):null,Object(a.jsx)("div",{className:"card-container",children:n.map((function(e){return Object(a.jsx)(d,{setOpen:l,photo:e},e.id)}))})]})})),m=n(357),f=n(358),g={fetchUserSuccess:function(e){return{type:"FETCH_USER_SUCCESS",payload:e}}},x=Object(l.b)(null,g)((function(e){var t=e.fetchUserSuccess,n=Object(c.useState)(""),r=Object(u.a)(n,2),o=r[0],s=r[1],l=Object(c.useState)(""),h=Object(u.a)(l,2),j=h[0],d=h[1],b=Object(c.useState)(""),p=Object(u.a)(b,2),O=p[0],g=p[1],x=Object(c.useState)(!1),y=Object(u.a)(x,2),v=y[0],S=y[1],k=Object(c.useState)([]),T=Object(u.a)(k,2),C=T[0],N=T[1],w=Object(c.useState)([]),E=Object(u.a)(w,2),_=E[0],U=E[1],P=Object(i.f)(),I=function(e){switch(e.target.name){case"username":s(e.target.value);break;case"email":g(e.target.value);break;case"password":d(e.target.value);break;default:return}},R=function(){return C?C.map((function(e){return e.split(" ")[0]})):[]};return Object(a.jsx)(a.Fragment,{children:v?Object(a.jsxs)(m.a,{className:"login-form",onSubmit:function(e){e.preventDefault();var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,email:O,password:j})};fetch("https://desolate-plateau-74310.herokuapp.com/users",n).then((function(e){return e.json()})).then((function(e){e.errors?N(e.errors):fetch("https://desolate-plateau-74310.herokuapp.com/auth",n).then((function(e){return e.json()})).then((function(e){e.errors?N(e.errors):(localStorage.setItem("myToken",e.token),t(e),P.push("/"))}))}))},children:[Object(a.jsx)("label",{children:"Username:"}),Object(a.jsx)(m.a.Input,{error:!!R().includes("Username")&&"Username must be valid",fluid:!0,type:"text",name:"username",value:o,onChange:I}),Object(a.jsx)("label",{children:"Password:"}),Object(a.jsx)(m.a.Input,{error:!!R().includes("Password")&&"Password can't be blank",fluid:!0,type:"password",name:"password",value:j,onChange:I}),Object(a.jsx)("label",{children:"Email:"}),Object(a.jsx)(m.a.Input,{error:!!R().includes("Email")&&"Email must be valid",fluid:!0,type:"text",name:"email",value:O,onChange:I}),Object(a.jsx)(f.a,{inverted:!0,style:{marginTop:"10px"},type:"submit",children:"Signup"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h4",{style:{color:"red"},children:_}),Object(a.jsxs)(m.a,{onSubmit:function(e){e.preventDefault();var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:j})};fetch("https://desolate-plateau-74310.herokuapp.com/auth",n).then((function(e){return e.json()})).then((function(e){e.error?U(e.error):(localStorage.setItem("myToken",e.token),t(e),P.push("/"))}))},className:"login-form",children:[Object(a.jsx)("label",{name:"username",children:"Username:"}),Object(a.jsx)("input",{onChange:I,type:"text",name:"username",value:o}),Object(a.jsx)("label",{children:"Password:"}),Object(a.jsx)("input",{onChange:I,type:"password",name:"password",value:j}),Object(a.jsx)(f.a,{inverted:!0,style:{marginTop:"10px"},type:"submit",children:"Login"}),Object(a.jsx)(f.a,{onClick:function(){return S(!0)},inverted:!0,style:{marginTop:"10px"},children:"Signup"})]})]})})})),y=n(191),v={clearCart:function(e){return{type:"CLEAR_CART"}}},S=Object(l.b)((function(e){return{cart:e.cart}}),v)((function(e){var t=e.cart,n=e.clearCart,r=Object(c.useState)(!1),o=Object(u.a)(r,2),s=o[0],l=o[1],h=Object(i.f)(),j=t.map((function(e){return parseInt(e.price)})).reduce((function(e,t){return e+t}),0);return Object(a.jsx)(a.Fragment,{children:s?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"total-paypal",children:["Total: $",j,".00"]}),Object(a.jsx)(y.PayPalButton,{amount:j,shippingPreference:"NO_SHIPPING",onSuccess:function(e,t){alert("Thanks for purchasing "+e.payer.name.given_name),n(),h.push("/")}})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{fontSize:"20px"},className:"login-form",children:"Please Read the About page before you checkout"}),Object(a.jsxs)("div",{className:"cart-cont",children:[Object(a.jsx)("div",{className:"your-cart",children:"Your cart"}),0!==t.length?Object(a.jsx)("div",{className:"cart",children:t.map((function(e){return Object(a.jsxs)("div",{className:"cart-item",children:[e.title,": $",e.price,".00"]})}))}):null,Object(a.jsxs)("div",{className:"total",children:["Total: $",j,".00"]}),Object(a.jsx)("button",{style:{marginLeft:"5px",width:"497px",color:"black"},className:"massive ui button",onClick:function(){return l(!0)},children:"Make a Donation"})]})]})})})),k=function(){return Object(a.jsxs)("div",{className:"about",children:[Object(a.jsx)("h1",{children:"What's going on here"}),Object(a.jsx)("h2",{style:{fontSize:"60px"},children:Object(a.jsx)("b",{children:"In this website you are not buying anything!"})}),Object(a.jsx)("p",{children:"The idea behind this website is to test my skills in creating an e-commerce website. Unfortunately, I have nothing to sell, so by adding these photos to your cart and purchasing them you are making a donation for the phenomenal work that I've been doing."}),Object(a.jsx)("p",{children:"Also, I've given you the ability to download any photo you'd like to your computer. Lastly, if you feel like making an account (which is not mandatory.) You will have the ability to like photography. So have at it. Try to have some fun. Maybe send some money to me. Or don't. It's fine."})]})},T=n(33),C={logoutUser:function(){return{type:"LOGOUT_USER"}}},N=Object(l.b)((function(e){return{cart:e.cart,auth:e.auth}}),C)((function(e){var t=e.cart,n=e.auth,c=e.logoutUser;return Object(a.jsxs)("div",{className:"ui menu inverted",children:[Object(a.jsx)(T.b,{to:"/",children:Object(a.jsx)("div",{className:"header item",children:"Igg's Photo Shop"})}),Object(a.jsx)(T.b,{to:"/about",className:"item",children:"About"}),Object(a.jsxs)(T.b,{className:"item",to:"/cart",children:[Object(a.jsx)(a.Fragment,{children:"Cart"}),Object(a.jsx)("div",{className:"ui circular label white",children:t.length})]}),n.id?Object(a.jsx)("a",{onClick:function(){localStorage.removeItem("myToken"),c()},className:"right menu item",children:"Logout"}):Object(a.jsx)(T.b,{className:"right menu item",to:"/login",children:"Login"})]})})),w=n.p+"static/media/blackWoodBackground.fdd81561.jpg",E={currentUser:function(e){return{type:"CURRENT_USER",payload:e}}},_=Object(l.b)(null,E)((function(e){var t=e.currentUser;return Object(c.useEffect)((function(){document.body.style.backgroundImage="url(".concat(w,")")}),[]),Object(c.useEffect)((function(){var e=localStorage.getItem("myToken"),n={method:"GET",headers:{Authorization:"Bearer ".concat(e)}};fetch("https://desolate-plateau-74310.herokuapp.com/current_user",n).then((function(e){return e.json()})).then((function(e){return t(e)}))}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(N,{}),Object(a.jsxs)(i.c,{children:[Object(a.jsx)(i.a,{exact:!0,path:"/",component:O}),Object(a.jsx)(i.a,{path:"/login",component:x}),Object(a.jsx)(i.a,{path:"/cart",component:S}),Object(a.jsx)(i.a,{path:"/about",component:k})]})]})})),U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,360)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},P=n(64),I={},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_SUCCESS":case"CURRENT_USER":return t.payload;case"LOGOUT_USER":return{};default:return e}},F=[],L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PHOTOS_SUCCESS":return t.payload;default:return e}},D={},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_PHOTO":return t.payload;default:return e}},A=n(194),B=[],G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PHOTO":return[].concat(Object(A.a)(e),[t.payload]);case"LOGOUT_USER":case"CLEAR_CART":return[];default:return e}},J=Object(P.b)({auth:R,photos:L,photo:H,cart:G}),M=(n(343),Object(P.c)(J,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(Object(a.jsx)(l.a,{store:M,children:Object(a.jsx)(T.a,{basename:"/IggsPhotoShop",children:Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(_,{})})})}),document.getElementById("root")),U()}},[[344,1,2]]]);
//# sourceMappingURL=main.c2c00f02.chunk.js.map